<!-- Inclusion de l'API Google Maps -->
<script src="http://maps.google.com/maps/api/js?sensor=true"></script>

<script>
    function maPosition(position) {
        var infopos = "Position déterminée :\n";
        infopos += "Latitude : " + position.coords.latitude + "\n";
        infopos += "Longitude: " + position.coords.longitude + "\n";
        infopos += "Altitude : " + position.coords.altitude + "\n";
        document.getElementById("infoposition").innerHTML = infopos;
        DisplayPosition(position);
    }
    if (navigator.geolocation)
        navigator.geolocation.getCurrentPosition(maPosition);
</script>
<script>

    function DisplayPosition(position) {
        // Instanciation
        var point = new google.maps.LatLng(position.coords.latitude, position.coords.longitude),

        // Ajustement des paramètres
        myOptions = {
            zoom: 15,
            center: point,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        },

        // Envoi de la carte dans la div
        mapDiv = document.getElementById("mapDiv"),
        map = new google.maps.Map(mapDiv, myOptions),

        marker = new google.maps.Marker({
            position: point,
            map: map,
            // Texte du point
            title: "Vous êtes ici"
        });

        //navigation
        var directionsDisplay = new google.maps.DirectionsRenderer();
        directionsDisplay.setMap(map);
        var end_pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
        var request = {
            origin: current_pos,
            destination: end_pos,
            travelMode: google.maps.TravelMode.DRIVING
        };
        directionsService.route(request, function (result, status) {
            if (status == google.maps.DirectionsStatus.OK) {
                directionsDisplay.setDirections(result);
            }
        });

    }

 
</script>
<div id="infoposition"></div>
<div id="mapDiv" class="jumbotron" style="height:400px;">
</div>